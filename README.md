Cinnabar - –ú–æ–π –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏—è

Cinnabar ‚Äî —ç—Ç–æ —è–∑—ã–∫ –æ–±—â–µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –ª–∞–∫–æ–Ω–∏—á–Ω–æ—Å—Ç—å, —Å—Ç—Ä–æ–≥—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é, –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ, —Ç–∞–∫ –∏ –û–û–ü-–ø–æ–¥—Ö–æ–¥–æ–≤.

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

–°–∏–ª—å–Ω–∞—è –∏ –≥–∏–±–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è (int, float, tuple, list, hash –∏ –¥—Ä.)

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (comptime)

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –∏ –º–∞–∫—Ä–æ—Å—ã

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (OOP)

–õ–∞–∫–æ–Ω–∏—á–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (—Å–∞—Ö–∞—Ä —á–µ—Ä–µ–∑ =>, take, shadowing –ø—Ä–∞–≤–∏–ªa)

üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
package "main" // –∏–º—è –ø–∞–∫–µ—Ç–∞

plug std.io
plug std.panic

// –ü—Ä–∏–º–µ—Ä –∏–º–ø–æ—Ä—Ç–∞ —Å –∞–ª–∏–∞—Å–æ–º
plug libs.lib1:func1 as function
```

üîë –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

int (int8, int16, int32, int64, int128)

uint (uint8, uint16, uint32, uint64, uint128)

float (float32, float64)

bool, string, char

list ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤ (—Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã)

tuple ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ—Ä—Ç–µ–∂ (—Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã)

array ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤ (–æ–¥–∏–Ω —Ç–∏–ø)

hash ‚Äî —Å–ª–æ–≤–∞—Ä—å (map)

hashlist ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–æ (set)

üìù –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```
let x := 5         // –∏–∑–º–µ–Ω—è–µ–º–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
set y := 3         // –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–∞—è
const z := 10      // –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞

let may_be_null?   // nullable
```

Shadowing

```
set num1 := 6
set num1 := map(float, num1) // shadowing
```

üìå –ü—Ä–∞–≤–∏–ª–∞:

set ‚Üí shadowing —Ä–∞–∑—Ä–µ—à–µ–Ω–æ

let ‚Üí –º–µ–Ω—è–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–æ –Ω–µ —Ç–∏–ø

const ‚Üí PANIC –ø—Ä–∏ –ø–µ—Ä–µ–æ–±—ä—è–≤–ª–µ–Ω–∏–∏

‚öôÔ∏è –§—É–Ω–∫—Ü–∏–∏
–õ—è–º–±–¥–∞

```
set pow :int = (a, b) => a ** b
```

–û–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è

```
void summator(a:int, b:int) do
    take a+b
end
```

take –∏ return –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã.

Generics

```
void multimmator<T: int | float>(a, b): Optional<int | float> do 
    a * b
end
```

üîÄ –£—Å–ª–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

```
match age do
    >= 18 => io.print("welcome")
    < 18  => io.print("go away")
    _     => throw panic.ValueError
end
```

–ö–æ—Ä–æ—Ç–∫–∞—è —Ñ–æ—Ä–º–∞:

```
match name => == "Alice" => io.print("you Alice!")
```

‚ùå –û—à–∏–±–∫–∏ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

```
try do
    set res := num1 / num2
    catch e => io.print($"error {e}")
    catch e == panic.ZeroDivision do
        io.print("–ù–ê –ù–û–õ–¨ –î–ï–õ–ò–¢–¨ –ù–ï–õ–¨–ó–Ø") 
    end
    finally => io.print("res = {res}")
end
```

üîÅ –¶–∏–∫–ª—ã
–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π

```
loop do
    ...
end
```

–° —É—Å–ª–æ–≤–∏–µ–º

```
loop do 
    let i := 0
    match i do
        >= 10 => break
        _ => continue
    end
    ...
end
```

üìå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: break, continue.

üêæ –û–±—ä–µ–∫—Ç–Ω–∞—è –º–æ–¥–µ–ª—å
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```
ifce Animals do
    void new(),
    void animal_voice() do
        io.print("some sound")
    end,
    void fly_status(),
end 
```

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ + —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

```
scatch Animal do
    can_fly: bool,
    voice: string,

    impl Animal(Animals) do
        void new(can_fly, voice):self do
            self.can_fly = can_fly
            self.voice = voice
        end
    end
end
```

üß© –ú–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ
–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã

```
@sppedtest(logging=true)
void long_func(wait: int) do
    io.print("func sleeps")
    time.sleep(wait)
    io.print("func awake")
end 
```

–ú–∞–∫—Ä–æ—Å—ã

```
macro add<T: int | float>(a, b) do
    quote do
        a + b
    end
end

set x := add!(5, 3) // ‚Üí 8
```

Compile-time –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

```
const SIZE := comptime(2 ** 5) // SIZE = 32
```

‚ö° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞

=> ‚Äî –∫–æ—Ä–æ—Ç–∫–∞—è –∑–∞–ø–∏—Å—å (–ª—è–º–±–¥–∞, –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–µ match/if)

take –∏ return ‚Äî —Ä–∞–≤–Ω–æ–∑–Ω–∞—á–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞

Nil ‚Äî null-–∑–Ω–∞—á–µ–Ω–∏–µ

–ú–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã, –º–∞–∫—Ä–æ—Å—ã, comptime
